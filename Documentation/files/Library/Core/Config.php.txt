<?php

namespace Library\Core;

if (!FrameworkConstants_ExecutionAccessRestriction) {
  exit('No direct script access allowed');
}

class Config extends ApplicationComponent {

  protected $settings = array();

  public function get($key) {
    if (!$this->settings) {
      $xml = new \DOMDocument;
      $xml->load(FrameworkConstants_RootDir . \Library\Enums\ApplicationFolderName::AppsFolderName . FrameworkConstants_AppName . '/Config/appsettings.xml');

      $elements = $xml->getElementsByTagName('define');

      foreach ($elements as $element) {
        $this->settings[$element->getAttribute('key')] = $element->getAttribute('value');
      }
    }

    if (isset($this->settings[$key])) {
      return $this->settings[$key];
    }

    return null;
  }

}

